<div class="tzWidget"><script type="text/javascript">(function (){ var scripts = document.getElementsByTagName('script'); var parent = scripts[scripts.length - 1].parentNode; var url = "http://en.wikipedia.org/wiki/"; var zones = {"Honolulu":{"1611759608":-36000},"Anchorage":{"1611759608":-32400,"1615719600":-28800,"1636279200":-32400,"1647169200":-28800,"1667728800":-32400,"1678618800":-28800,"1699178400":-32400,"1710068400":-28800,"1730628000":-32400,"1741518000":-28800,"1762077600":-32400},"Los-Angeles":{"1611759608":-28800,"1615716000":-25200,"1636275600":-28800,"1647165600":-25200,"1667725200":-28800,"1678615200":-25200,"1699174800":-28800,"1710064800":-25200,"1730624400":-28800,"1741514400":-25200,"1762074000":-28800},"Denver":{"1611759608":-25200,"1615712400":-21600,"1636272000":-25200,"1647162000":-21600,"1667721600":-25200,"1678611600":-21600,"1699171200":-25200,"1710061200":-21600,"1730620800":-25200,"1741510800":-21600,"1762070400":-25200},"Chicago":{"1611759608":-21600,"1615708800":-18000,"1636268400":-21600,"1647158400":-18000,"1667718000":-21600,"1678608000":-18000,"1699167600":-21600,"1710057600":-18000,"1730617200":-21600,"1741507200":-18000,"1762066800":-21600},"New-York":{"1611759608":-18000,"1615705200":-14400,"1636264800":-18000,"1647154800":-14400,"1667714400":-18000,"1678604400":-14400,"1699164000":-18000,"1710054000":-14400,"1730613600":-18000,"1741503600":-14400,"1762063200":-18000}}; var now = new Date; var utc = +now + (now.getTimezoneOffset() * 60 * 1000); now = +now / 1000; function findCurrentOffset(offsets) { for (o in offsets) { if (now >= o) { return offsets[o] * 1000; } } return 0; } function createZones() { for (tz in zones) { var zone = document.createElement('div'); var date = new Date(utc + findCurrentOffset(zones[tz])); zone.onclick = function () { window.open(url + encodeURI(this.firstChild.innerHTML)); }; zone.innerHTML = '<h3>'+tz+'</h3>'; zone.innerHTML += '<h2><b>' + ("0" + date.getHours()).slice(-2) + '</b>:<i>' + ("0" + date.getMinutes()).slice(-2) + '</i></h2>'; zone.innerHTML += '<h4>' + date.toString().slice(0, 10) + '</h4>'; parent.appendChild(zone); } } function updateZones() { var list = parent.getElementsByTagName('div'); for (i = 0; i < list.length; i++) { var h = list[i].getElementsByTagName('b')[0]; var m = list[i].getElementsByTagName('i')[0]; if (m.innerHTML == 59 && h.innerHTML == 23) { parent.innerHTML = ""; createZones(); return; } else if (m.innerHTML == 59) { m.innerHTML = "00"; h.innerHTML = ("0" + (+h.innerHTML + 1)).slice(-2); } else { m.innerHTML = ("0" + (+m.innerHTML + 1)).slice(-2); } } } createZones(); window.setInterval(updateZones, 1000 * 60); }());</script></div>

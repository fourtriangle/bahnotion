<div class="tzWidget"><script type="text/javascript">(function (){ var scripts = document.getElementsByTagName('script'); var parent = scripts[scripts.length - 1].parentNode; var url = "http://en.wikipedia.org/wiki/"; var zones = {"Paris":{"1611759196":3600,"1616893200":7200,"1635642000":3600,"1648342800":7200,"1667091600":3600,"1679792400":7200,"1698541200":3600,"1711846800":7200,"1729990800":3600,"1743296400":7200,"1761440400":3600},"Melbourne":{"1611759196":39600,"1617465600":36000,"1633190400":39600,"1648915200":36000,"1664640000":39600,"1680364800":36000,"1696089600":39600,"1712419200":36000,"1728144000":39600,"1743868800":36000,"1759593600":39600},"Eucla":{"1611759196":31500},"Louisville":{"1611759196":-18000,"1615705200":-14400,"1636264800":-18000,"1647154800":-14400,"1667714400":-18000,"1678604400":-14400,"1699164000":-18000,"1710054000":-14400,"1730613600":-18000,"1741503600":-14400,"1762063200":-18000}}; var now = new Date; var utc = +now + (now.getTimezoneOffset() * 60 * 1000); now = +now / 1000; function findCurrentOffset(offsets) { for (o in offsets) { if (now >= o) { return offsets[o] * 1000; } } return 0; } function createZones() { for (tz in zones) { var zone = document.createElement('div'); var date = new Date(utc + findCurrentOffset(zones[tz])); zone.onclick = function () { window.open(url + encodeURI(this.firstChild.innerHTML)); }; zone.innerHTML = '<h3>'+tz+'</h3>'; zone.innerHTML += '<h2><b>' + ("0" + date.getHours()).slice(-2) + '</b>:<i>' + ("0" + date.getMinutes()).slice(-2) + '</i></h2>'; zone.innerHTML += '<h4>' + date.toString().slice(0, 10) + '</h4>'; parent.appendChild(zone); } } function updateZones() { var list = parent.getElementsByTagName('div'); for (i = 0; i < list.length; i++) { var h = list[i].getElementsByTagName('b')[0]; var m = list[i].getElementsByTagName('i')[0]; if (m.innerHTML == 59 && h.innerHTML == 23) { parent.innerHTML = ""; createZones(); return; } else if (m.innerHTML == 59) { m.innerHTML = "00"; h.innerHTML = ("0" + (+h.innerHTML + 1)).slice(-2); } else { m.innerHTML = ("0" + (+m.innerHTML + 1)).slice(-2); } } } createZones(); window.setInterval(updateZones, 1000 * 60); var link = document.createElement("link"); link.type = "text/css"; link.rel = "stylesheet"; link.href = "data:text/css,.tzWidget%20%2A%7Bmargin%3A0%3Bpadding%3A0%3Bfont%3Ainherit%3Bfont-size%3A1em%3B%7D.tzWidget%7Btext-align%3Acenter%3Bfont-family%3Asans-serif%3B%7D.tzWidget%20div%7Bdisplay%3Ainline-block%3Bpadding%3A5px%3Bfont-weight%3Anormal%3Bfont-style%3Anormal%3Bwidth%3A90px%3Bheight%3A60px%3Bvertical-align%3Amiddle%3Boverflow%3Ahidden%3Bcursor%3Apointer%3B%7D.tzWidget%20h2%7Bfont-family%3AGeorgia%2C%20%22Times%20New%20Roman%22%2C%20Times%2C%20serif%3Bfont-size%3A30px%3Bline-height%3A26px%3Bfont-weight%3Anormal%3B%7D.tzWidget%20h3%7Bfont-size%3A12px%3B%7D.tzWidget%20h4%7Bfont-size%3A10px%3Bmargin-top%3A5px%3B%7D.tzWidget%7Bbackground%3A%23fff%3Bcolor%3A%23000%3B%7D.tzWidget%20h3%7Bcolor%3A%23333%3B%7D.tzWidget%20div%3Ahover%7Bbackground%3A%23ddd%3B%7D.tzWidget%20h4%7Bcolor%3A%23999%3B%7D"; document.head.appendChild(link); }());</script></div>
